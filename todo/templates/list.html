{% extends 'base.html' %}

<h1> Todo List </h1>

{% block container %}

    <a href="/add" class="btn btn-outline-primary m-3">
        Add Todo
    </a>

    <table class="table table-bordered table-striped">
        <thead>
            <tr>
                <th>title</th>
                <th>description</th>
                <th>priority</th>
                <th>status</th>
            </tr>
        </thead>
        <tbody>
            
            {% for todo in todos %}
            <tr>
                
                <td>{{todo.title}}</td>
                <td>{{todo.description}}</td>
                <td>
                    
                    {% if todo.priority == 1 %}
                    <b class="text-danger">
                        {{todo.get_priority_display}}
                    </b>
                    {% elif todo.priority == 2 %}
                    <b class="text-warning">
                        {{todo.get_priority_display}}
                    </b>
                    {% else %}
                    <b class="text-success">
                        {{todo.get_priority_display}}
                    </b>
                    {% endif %}
                        
                </td>
                <td>
                     {% if todo.status == "c" %}
                    <b class="text-danger">
                        {{todo.get_status_display}}
                    </b>
                    {% elif todo.status == "w" %}
                    <b class="text-info">
                        {{todo.get_status_display}}
                    </b>
                    {% else %}
                    <b class="text-secondary">
                        {{todo.get_status_display}}
                    </b>
                    {% endif %}
                </td>

                <td>
                    <a href="/update/{{ todo.id }}" class="btn btn-outline-primary m-1">Update</a>
                    <a href="/delete/{{ todo.id }}" onclick="return confirm('are you sure?')" class="btn btn-danger m-1" >Delete</a>
                </td>
                
            </tr>
            {% endfor %}
        </tbody>
    </table>
    
{% endblock container %}
    